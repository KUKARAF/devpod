#!/usr/bin/env python3
import sys
import requests

def main():
    # Read from stdin
    text = sys.stdin.read()
    
    # Strip existing whitespace and add fresh whitespace
    text = text.rstrip() + " " * 10
    
    url = "https://casa.osmosis.page/api/webhook/set_matrix_display"
    headers = {"Content-Type": "application/json"}
    
    try:
        response = requests.post(url, json={"text": text}, headers=headers)
        print(f"Status Code: {response.status_code}")
        print(f"Response: {response.text}")
    except requests.exceptions.RequestException as e:
        print(f"Error: {e}", file=sys.stderr)
        sys.exit(1)

if __name__ == "__main__":
    main()
